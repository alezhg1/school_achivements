<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å ‚Äî –ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</title>
  <style>
    /* –°–ë–†–û–° –°–¢–ò–õ–ï–ô */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      background: linear-gradient(135deg, #f8fbff 0%, #e8f4ff 100%);
      font-family: "Segoe UI", Roboto, -apple-system, BlinkMacSystemFont, Arial, sans-serif;
      font-size: 13px;
      line-height: 1.3;
    }

    /* HEADER */
    header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(90deg, #0077e6 0%, #005bb5 100%);
      color: #fff;
      z-index: 1200;
      box-shadow: 0 3px 8px rgba(3, 36, 74, 0.12);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      padding: 10px 12px;
      width: 100%;
      height: 55px;
    }

    .logo a {
      font-weight: 700;
      font-size: 1rem;
      color: #fff;
      text-decoration: none;
      white-space: nowrap;
    }

    nav {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
      justify-content: flex-end;
      flex: 1;
    }

    nav a {
      color: rgba(255, 255, 255, 0.95);
      text-decoration: none;
      padding: 5px 7px;
      border-radius: 5px;
      font-weight: 600;
      transition: all 0.22s;
      font-size: 0.8rem;
      white-space: nowrap;
    }

    nav a:hover {
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-1px);
    }

    .logout-btn {
      background: rgba(220, 53, 69, 0.9);
      color: white;
      padding: 5px 8px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: 600;
      font-size: 0.75rem;
      border: none;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.3s ease;
      margin-left: 5px;
    }

    .logout-btn:hover {
      background: #dc3545;
      transform: translateY(-1px);
    }

    /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */
    .main-content {
      padding-top: 55px;
      min-height: 100vh;
      background: transparent;
    }

    .create-class-page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px 20px 50px;
      animation: fadeIn 0.6s ease;
    }

    /* ====== –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ ====== */
    .page-header {
      margin-bottom: 30px;
      text-align: center;
    }

    .page-header h1 {
      font-size: 1.8rem;
      color: #002b5c;
      margin-bottom: 10px;
      line-height: 1.2;
      font-weight: 700;
    }

    .page-header p {
      color: #5a6b80;
      font-size: 1rem;
      max-width: 700px;
      margin: 0 auto;
      line-height: 1.4;
    }

    /* ====== –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–≤—É–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏ ====== */
    .main-container {
      display: grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 25px;
      margin-bottom: 30px;
    }

    /* ====== –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –§–æ—Ä–º–∞ ====== */
    .left-column {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    /* –®–∫–æ–ª–∞ –±–ª–æ–∫ */
    .school-card {
      background: white;
      border-radius: 14px;
      box-shadow: 0 6px 20px rgba(0, 87, 174, 0.12);
      border: 1px solid #cde0ff;
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 15px;
      transition: all 0.3s ease;
    }

    .school-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(0, 123, 255, 0.15);
    }

    .school-icon {
      background: linear-gradient(135deg, #007bff, #0047b3);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 12px;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .school-details h2 {
      margin: 0 0 6px 0;
      font-size: 1.2rem;
      color: #002b5c;
    }

    .school-details p {
      margin: 0;
      color: #5a6b80;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    /* –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ */
    .form-card {
      background: white;
      border-radius: 14px;
      box-shadow: 0 6px 20px rgba(0, 87, 174, 0.12);
      border: 1px solid #cde0ff;
      padding: 25px;
      flex: 1;
    }

    .form-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .form-header-icon {
      background: linear-gradient(135deg, #28a745, #1e7e34);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }

    .form-header h2 {
      color: #002b5c;
      margin: 0;
      font-size: 1.3rem;
    }

    .form-header p {
      color: #5a6b80;
      font-size: 0.85rem;
      margin: 4px 0 0 0;
    }

    /* –§–æ—Ä–º–∞ */
    .class-form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-group label {
      font-weight: 600;
      color: #003366;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .form-group label .label-icon {
      font-size: 1rem;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 14px 16px;
      border: 1.5px solid #e8f4ff;
      border-radius: 10px;
      background: #f9fcff;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      font-family: inherit;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      border-color: #007bff;
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15);
      outline: none;
      background: white;
      transform: translateY(-1px);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }

    .form-hint {
      color: #5a6b80;
      font-size: 0.8rem;
      margin-top: 4px;
      line-height: 1.4;
    }

    .required-star {
      color: #dc3545;
    }

    /* –°—á–µ—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤ */
    .char-counter {
      text-align: right;
      font-size: 0.75rem;
      color: #5a6b80;
      margin-top: 4px;
    }

    .char-counter.warning {
      color: #ff9800;
    }

    .char-counter.error {
      color: #dc3545;
    }

    /* ====== –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ - –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ====== */
    .right-column {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    /* –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è */
    .progress-card {
      background: white;
      border-radius: 14px;
      box-shadow: 0 6px 20px rgba(0, 87, 174, 0.12);
      border: 1px solid #cde0ff;
      padding: 25px;
    }

    .progress-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .progress-header-icon {
      background: linear-gradient(135deg, #ff9800, #f57c00);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }

    .progress-header h2 {
      color: #002b5c;
      margin: 0;
      font-size: 1.3rem;
    }

    .progress-steps {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .progress-step {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 15px;
      background: #f8fbff;
      border-radius: 10px;
      border: 1px solid #e8f4ff;
      transition: all 0.3s ease;
    }

    .progress-step.active {
      background: #e8f4ff;
      border-color: #007bff;
      transform: translateX(5px);
    }

    .step-number {
      background: #dee2e6;
      color: #6c757d;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.9rem;
      flex-shrink: 0;
    }

    .progress-step.active .step-number {
      background: #007bff;
      color: white;
    }

    .step-content {
      flex: 1;
    }

    .step-title {
      font-weight: 600;
      color: #002b5c;
      font-size: 0.9rem;
      margin-bottom: 3px;
    }

    .step-desc {
      color: #5a6b80;
      font-size: 0.8rem;
      line-height: 1.3;
    }

    /* –ë–ª–æ–∫ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ */
    .benefits-card {
      background: white;
      border-radius: 14px;
      box-shadow: 0 6px 20px rgba(0, 87, 174, 0.12);
      border: 1px solid #cde0ff;
      padding: 25px;
      flex: 1;
    }

    .benefits-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .benefits-header-icon {
      background: linear-gradient(135deg, #17a2b8, #117a8b);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }

    .benefits-header h2 {
      color: #002b5c;
      margin: 0;
      font-size: 1.3rem;
    }

    .benefits-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .benefit-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 15px;
      background: #f8fbff;
      border-radius: 10px;
      border: 1px solid #e8f4ff;
      transition: all 0.3s ease;
    }

    .benefit-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 123, 255, 0.1);
      border-color: #007bff;
    }

    .benefit-icon {
      background: linear-gradient(135deg, #007bff, #0047b3);
      color: white;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      flex-shrink: 0;
    }

    .benefit-content h3 {
      color: #002b5c;
      margin: 0 0 6px 0;
      font-size: 0.95rem;
      font-weight: 600;
    }

    .benefit-content p {
      color: #5a6b80;
      font-size: 0.8rem;
      line-height: 1.4;
      margin: 0;
    }

    /* ====== –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π ====== */
    .action-buttons {
      display: flex;
      gap: 15px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .btn {
      text-decoration: none;
      padding: 14px 28px;
      border-radius: 10px;
      font-weight: 600;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      text-align: center;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      flex: 1;
      min-width: 180px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #28a745, #1e7e34);
      color: white;
      box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4);
    }

    .btn-secondary {
      background: #f2f4f8;
      border: 1px solid #d0e0ff;
      color: #002b5c;
    }

    .btn-secondary:hover {
      background: #eef4ff;
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0, 123, 255, 0.1);
    }

    .btn-icon {
      font-size: 1.1rem;
    }

    /* ====== –û—à–∏–±–∫–∏ ====== */
    .form-errors {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
    }

    .form-errors ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .form-errors li {
      color: #721c24;
      font-size: 0.85rem;
      margin-bottom: 5px;
      padding-left: 20px;
      position: relative;
    }

    .form-errors li:before {
      content: "‚ö†Ô∏è";
      position: absolute;
      left: 0;
      top: 1px;
    }

    .field-error {
      color: #dc3545;
      font-size: 0.8rem;
      margin-top: 5px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* ====== –ê–Ω–∏–º–∞—Ü–∏–∏ ====== */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    /* ====== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ====== */
    @media (max-width: 1024px) {
      .main-container {
        grid-template-columns: 1fr;
        gap: 20px;
      }
      
      .left-column, .right-column {
        gap: 20px;
      }
    }

    @media (max-width: 768px) {
      .create-class-page {
        padding: 20px 15px 40px;
      }

      .page-header h1 {
        font-size: 1.5rem;
      }

      .page-header p {
        font-size: 0.9rem;
      }

      .school-card,
      .form-card,
      .progress-card,
      .benefits-card {
        padding: 20px;
      }

      .action-buttons {
        flex-direction: column;
      }

      .btn {
        min-width: auto;
        width: 100%;
      }

      .form-header,
      .progress-header,
      .benefits-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }

      .form-header-icon,
      .progress-header-icon,
      .benefits-header-icon {
        align-self: flex-start;
      }
    }

    @media (max-width: 480px) {
      .create-class-page {
        padding: 15px 10px 30px;
      }

      .page-header h1 {
        font-size: 1.3rem;
      }

      .school-card {
        flex-direction: column;
        text-align: center;
        gap: 12px;
      }

      .benefit-item {
        flex-direction: column;
        text-align: center;
        gap: 10px;
      }

      .benefit-icon {
        align-self: center;
      }
    }
  </style>
</head>
<body>
  <!-- –•–µ–¥–µ—Ä -->
  <header>
    <div class="logo">
      <a href="/">–ú–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</a>
    </div>

    <nav>
      {% if user.is_authenticated %}
        {% if user.role == 'teacher' or user.is_teacher %}
          <a href="{% url 'teacher_dashboard' %}" class="{% if request.path == '/teacher/dashboard/' %}active{% endif %}">–ì–ª–∞–≤–Ω–∞—è</a>
          <a href="{% url 'teacher_classes' %}" class="{% if 'classes' in request.path %}active{% endif %}">–ö–ª–∞—Å—Å—ã</a>
          <a href="{% url 'profile' user.username %}" class="{% if 'profile' in request.path %}active{% endif %}">–ü—Ä–æ—Ñ–∏–ª—å</a>
          <a href="{% url 'notifications' %}" class="{% if 'notifications' in request.path %}active{% endif %}">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</a>
        {% else %}
          <a href="{% url 'dashboard' %}" class="{% if request.path == '/dashboard/' %}active{% endif %}">–ì–ª–∞–≤–Ω–∞—è</a>
          <a href="{% url 'dashboard' %}" class="{% if 'classes' in request.path %}active{% endif %}">–ú–æ–∏ –∫–ª–∞—Å—Å—ã</a>
          <a href="{% url 'profile' user.username %}" class="{% if 'profile' in request.path %}active{% endif %}">–ü—Ä–æ—Ñ–∏–ª—å</a>
          <a href="{% url 'notifications' %}" class="{% if 'notifications' in request.path %}active{% endif %}">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</a>
        {% endif %}

        <div class="user-mini">
          <span>{{ user.get_full_name|default:user.username }}</span>
          <a href="{% url 'logout' %}" class="logout-btn">–í—ã–π—Ç–∏</a>
        </div>
      {% else %}
        <a href="{% url 'login' %}">–í–æ–π—Ç–∏</a>
        <a href="{% url 'register' %}" class="logout-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
      {% endif %}
    </nav>
  </header>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <div class="main-content">
    <div class="create-class-page">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
      <div class="page-header">
        <h1>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</h1>
        <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∞—Å—Å–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ —É—á–µ–Ω–∏–∫–æ–≤ –≤ –ì–ë–û–£ 444</p>
      </div>

      <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –¥–≤—É–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏ -->
      <div class="main-container">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
        <div class="left-column">
          <!-- –®–∫–æ–ª–∞ –±–ª–æ–∫ -->
          <div class="school-card">
            <div class="school-icon">üè´</div>
            <div class="school-details">
              <h2>–ì–ë–û–£ 444</h2>
              <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–ª–∞—Å—Å—ã, –ø—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ —É—á–µ–Ω–∏–∫–æ–≤ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
            </div>
          </div>

          <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ -->
          <div class="form-card">
            <div class="form-header">
              <div class="form-header-icon">üìù</div>
              <div>
                <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞—Å—Å–µ</h2>
                <p>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞</p>
              </div>
            </div>

            {% if form.errors %}
              <div class="form-errors">
                <ul>
                  {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                      <li>{{ error }}</li>
                    {% endfor %}
                  {% endfor %}
                </ul>
              </div>
            {% endif %}

            <form method="post" class="class-form">
              {% csrf_token %}

              <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ -->
              <div class="form-group">
                <label for="id_name">
                  <span class="label-icon">üè∑Ô∏è</span>
                  –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ <span class="required-star">*</span>
                </label>
                <input type="text" 
                       name="name" 
                       id="id_name" 
                       value="{{ form.name.value|default:'' }}"
                       placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5–ê –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞" 
                       required>
                {% if form.name.errors %}
                  <div class="field-error">‚ö†Ô∏è {{ form.name.errors.0 }}</div>
                {% endif %}
                <div class="form-hint">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã —É—á–µ–Ω–∏–∫–∞–º –±—ã–ª–æ –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –≤–∞—à –∫–ª–∞—Å—Å</div>
              </div>

              <!-- –ö–ª–∞—Å—Å/–≥—Ä—É–ø–ø–∞ -->
              <div class="form-group">
                <label for="id_grade">
                  <span class="label-icon">üéí</span>
                  –ö–ª–∞—Å—Å / –ì—Ä—É–ø–ø–∞ <span class="required-star">*</span>
                </label>
                <input type="text" 
                       name="grade" 
                       id="id_grade" 
                       value="{{ form.grade.value|default:'' }}"
                       placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5–ê –∏–ª–∏ –ì—Ä—É–ø–ø–∞ 1" 
                       required>
                {% if form.grade.errors %}
                  <div class="field-error">‚ö†Ô∏è {{ form.grade.errors.0 }}</div>
                {% endif %}
                <div class="form-hint">–£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä –∏ –±—É–∫–≤—É –∫–ª–∞—Å—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: "5–ê", "10–ë" –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã</div>
              </div>

              <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
              <div class="form-group">
                <label for="id_description">
                  <span class="label-icon">üìã</span>
                  –û–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
                </label>
                <textarea name="description" 
                          id="id_description" 
                          rows="4"
                          placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Ü–µ–ª—è—Ö –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è—Ö –≤–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞...">{{ form.description.value|default:'' }}</textarea>
                {% if form.description.errors %}
                  <div class="field-error">‚ö†Ô∏è {{ form.description.errors.0 }}</div>
                {% endif %}
                <div class="form-hint">–≠—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ —É—á–µ–Ω–∏–∫–∞–º –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –∫ –∫–ª–∞—Å—Å—É</div>
                <div class="char-counter" id="charCounter">
                  <span id="charCount">0</span>/500 —Å–∏–º–≤–æ–ª–æ–≤
                </div>
              </div>

              <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
              <div class="action-buttons">
                <a href="{% url 'teacher_classes' %}" class="btn btn-secondary">
                  <span class="btn-icon">‚Üê</span>
                  –ù–∞–∑–∞–¥ –∫ –∫–ª–∞—Å—Å–∞–º
                </a>
                <button type="submit" class="btn btn-primary" id="submitBtn">
                  <span class="btn-icon">‚ú®</span>
                  –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
        <div class="right-column">
          <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è -->
          <div class="progress-card">
            <div class="progress-header">
              <div class="progress-header-icon">üìä</div>
              <div>
                <h2>–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è</h2>
                <p>–®–∞–≥–∏ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞</p>
              </div>
            </div>

            <div class="progress-steps">
              <div class="progress-step active" id="step1">
                <div class="step-number">1</div>
                <div class="step-content">
                  <div class="step-title">–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</div>
                  <div class="step-desc">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ</div>
                </div>
              </div>

              <div class="progress-step" id="step2">
                <div class="step-number">2</div>
                <div class="step-content">
                  <div class="step-title">–ö—Ç–æ –º—ã?</div>
                  <div class="step-desc">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ –∫–ª–∞—Å—Å–∞</div>
                </div>
              </div>

              <div class="progress-step" id="step3">
                <div class="step-number">3</div>
                <div class="step-content">
                  <div class="step-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∞—Å—Å–∞</div>
                  <div class="step-desc">–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</div>
                </div>
              </div>

              <div class="progress-step" id="step4">
                <div class="step-number">4</div>
                <div class="step-content">
                  <div class="step-title">–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã</div>
                  <div class="step-desc">–ù–∞—á–Ω–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—á–µ–Ω–∏–∫–æ–≤</div>
                </div>
              </div>
            </div>
          </div>

          <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
          <div class="benefits-card">
            <div class="benefits-header">
              <div class="benefits-header-icon">üèÜ</div>
              <div>
                <h2>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞</h2>
                <p>–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è</p>
              </div>
            </div>

            <div class="benefits-list">
              <div class="benefit-item">
                <div class="benefit-icon">üìä</div>
                <div class="benefit-content">
                  <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</h3>
                  <p>–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∞–∂–¥–æ–≥–æ —É—á–µ–Ω–∏–∫–∞ –≤ –≤–∞—à–µ–º –∫–ª–∞—Å—Å–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">üèÖ</div>
                <div class="benefit-content">
                  <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏</h3>
                  <p>–î–æ–±–∞–≤–ª—è–π—Ç–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∏ —É–¥–∞–ª—è–π—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤–∞—à–∏—Ö —É—á–µ–Ω–∏–∫–æ–≤</p>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">üîî</div>
                <div class="benefit-content">
                  <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                  <p>–ü–æ–ª—É—á–∞–π—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö —É—á–µ–Ω–∏–∫–æ–≤</p>
                </div>
              </div>

              <div class="benefit-item">
                <div class="benefit-icon">üì±</div>
                <div class="benefit-content">
                  <h3>–î–æ—Å—Ç—É–ø —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h3>
                  <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–ª–∞—Å—Å–æ–º —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞, –ø–ª–∞–Ω—à–µ—Ç–∞ –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", function() {
    // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
    const descriptionField = document.getElementById('id_description');
    const charCounter = document.getElementById('charCounter');
    const charCount = document.getElementById('charCount');
    const submitBtn = document.getElementById('submitBtn');
    const form = document.querySelector('.class-form');
    
    // –ü–æ–ª—è —Ñ–æ—Ä–º—ã
    const nameField = document.getElementById('id_name');
    const gradeField = document.getElementById('id_grade');
    
    // –®–∞–≥–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    const progressSteps = document.querySelectorAll('.progress-step');

    // –ü–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –≤ –ø–æ–ª–µ –æ–ø–∏—Å–∞–Ω–∏—è
    function updateCharCounter() {
      if (!descriptionField || !charCount) return;
      
      const length = descriptionField.value.length;
      charCount.textContent = length;
      
      // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ —Å—á–µ—Ç—á–∏–∫–∞
      charCounter.classList.remove('warning', 'error');
      if (length > 450 && length <= 500) {
        charCounter.classList.add('warning');
      } else if (length > 500) {
        charCounter.classList.add('error');
      }
      
      // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤
      if (length > 500) {
        descriptionField.value = descriptionField.value.substring(0, 500);
        charCount.textContent = 500;
      }
    }
    
    if (descriptionField) {
      descriptionField.addEventListener('input', updateCharCounter);
      updateCharCounter(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    }

    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
    function updateProgress() {
      let completedSteps = 0;
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–µ–π
      if (nameField.value.trim()) completedSteps++;
      if (gradeField.value.trim()) completedSteps++;
      if (descriptionField.value.trim()) completedSteps++;
      
      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —à–∞–≥–æ–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
      progressSteps.forEach((step, index) => {
        step.classList.remove('active');
        if (index < completedSteps) {
          step.classList.add('active');
        }
      });
    }
    
    // –°–ª—É—à–∞—Ç–µ–ª–∏ –¥–ª—è –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
    [nameField, gradeField, descriptionField].forEach(field => {
      if (field) {
        field.addEventListener('input', updateProgress);
        field.addEventListener('change', updateProgress);
      }
    });
    
    updateProgress(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
    form.addEventListener('submit', function(e) {
      let isValid = true;
      const requiredFields = [nameField, gradeField];
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
      requiredFields.forEach(field => {
        if (!field.value.trim()) {
          isValid = false;
          field.style.borderColor = '#dc3545';
          field.style.boxShadow = '0 0 0 3px rgba(220, 53, 69, 0.1)';
          
          // –ê–Ω–∏–º–∞—Ü–∏—è –æ—à–∏–±–∫–∏
          field.style.animation = 'pulse 0.5s';
          setTimeout(() => {
            field.style.animation = '';
          }, 500);
        } else {
          field.style.borderColor = '';
          field.style.boxShadow = '';
        }
      });
      
      if (!isValid) {
        e.preventDefault();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
        const errorMsg = document.createElement('div');
        errorMsg.className = 'form-errors';
        errorMsg.innerHTML = '<ul><li>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</li></ul>';
        
        const existingError = form.querySelector('.form-errors');
        if (existingError) {
          existingError.remove();
        }
        
        form.prepend(errorMsg);
        
        // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –æ—à–∏–±–∫–µ
        errorMsg.scrollIntoView({ behavior: 'smooth', block: 'center' });
        
        return false;
      }
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
      submitBtn.disabled = true;
      submitBtn.innerHTML = '<span class="btn-icon">‚è≥</span> –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞...';
      
      return true;
    });

    // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤
    const benefitItems = document.querySelectorAll('.benefit-item');
    benefitItems.forEach(item => {
      item.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-3px) scale(1.02)';
      });
      
      item.addEventListener('mouseleave', function() {
        this.style.transform = '';
      });
    });

    // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ
    if (nameField) {
      nameField.focus();
    }

    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    setTimeout(updateProgress, 100);
  });
  </script>
</body>
</html>